# Today I Learned - 2022/05/19 Thur

# 대응표본 t-검정(Paired sample t-test)

## 정의
- **단일 모집단에 대해 `두번` 처리를 가했을 때, 두 개의 처리에 따른 평균의 차이를 비교**하고자 할 때 사용하는 검정 방법이다.
- 표본 내의 개체들에 대해서 두 번의 측정을 실시한다. **짝지어진 t-검정**이라고도 한다.
- 예를 들어 기업에서 두 가지 방법으로 직업 교육을 실시하고 나서, 두 가지 교육방법에 따른 실적 평균에 차이가 있는 지 검증하고자 하는 경우
<br>

|개체|관측값1(A)|관측값2(B)|차이(A - B = D)|
| :---: | :---: | :---: | :---: |
|1|A1|B1|A1 - B1 = D1|
|2|A2|B2|A2 - B2 - D2|

<br>

## 가정
- **모집단의 관측값이 정규성을 만족**해야 한다.
- 표본의 크기가 충분히 클 때(n >= 30) 중심극한정리에 따라 정규성을 만족한다.
- 종속변수는 연속형 변수이어야 한다.
<br>

## 단계
### 1. 가설 설정
- `모수` : 두 개의 모평균 사이의 차이(`D`)
- `귀무가설(H0)` : 두 개의 모평균 간에는 차이가 없다 (D = 0)
- `대립가설(H1)` : 두 개의 모평균 간에는 차이가 있다 (양측검정) or 두 개의 모평균간의 차이는 0보다 크다(작다) (단측검정)

### 2. 유의수준

### 3. 검정통계량 및 유의확률
t = (D - (u_x - u_y)) / (s_d / sqrt(n))  ~  t(df),  df = n-1

### 4. 기각여부
- 유의확률(p-value) < 유의수준(alpha) : 귀무가설을 `기각`한다.
- 유의확률(p-value) > 유의수준(alpha) : 귀무가설을 기각할 수 없다.



<br>

## 예시
```python
# library
import scipy.stats as spst

# 대응표본
spst.ttest_rel(before, after)
```
